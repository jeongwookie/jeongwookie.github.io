<!DOCTYPE html>












  


<html class="theme-next gemini use-motion" lang="en">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
























<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2">

<link rel="stylesheet" href="/css/main.css?v=7.0.1">


  <link rel="apple-touch-icon" sizes="180x180" href="https://user-images.githubusercontent.com/25416425/45255002-3806e680-b3bc-11e8-8d51-5dde5f6c454d.png?v=7.0.1">


  <link rel="icon" type="image/png" sizes="32x32" href="https://user-images.githubusercontent.com/25416425/45255002-3806e680-b3bc-11e8-8d51-5dde5f6c454d.png?v=7.0.1">


  <link rel="icon" type="image/png" sizes="16x16" href="https://user-images.githubusercontent.com/25416425/45255002-3806e680-b3bc-11e8-8d51-5dde5f6c454d.png?v=7.0.1">


  <link rel="mask-icon" href="https://user-images.githubusercontent.com/25416425/45255002-3806e680-b3bc-11e8-8d51-5dde5f6c454d.png?v=7.0.1" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '7.0.1',
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false,"dimmer":false},
    back2top: true,
    back2top_sidebar: true,
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  


<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({
          google_ad_client: "ca-pub-1156366976077024",
          enable_page_level_ads: true
     });
</script>

  <meta name="description" content="어떤 사건에 대한 사람들의 즉각적인 관심과 반응, 그리고 영향력자들이 어떻게 일반 사용자에게 영향을 미치는지 분석하는 데는 트위터 만한 SNS가 없다. 본 포스트에서는 예제로 19년 4월 4주차에서 어벤져스 또는 스포가 포함된 트윗을 수집해 볼 것이다. 어벤져스 엔드게임은 19년 4월 24일에 개봉해서 엄청난 인기를 끌었는데, 한동안 SNS에서 일명 스포">
<meta name="keywords" content="Python,Datamining,Twitter">
<meta property="og:type" content="article">
<meta property="og:title" content="Data Crawling - 파이썬을 이용한 트위터 수집하기">
<meta property="og:url" content="https://jeongwookie.github.io/2019/06/10/datascience/datacrawling/4-twitter-data-crawling/index.html">
<meta property="og:site_name" content="JW&#39;s Blog">
<meta property="og:description" content="어떤 사건에 대한 사람들의 즉각적인 관심과 반응, 그리고 영향력자들이 어떻게 일반 사용자에게 영향을 미치는지 분석하는 데는 트위터 만한 SNS가 없다. 본 포스트에서는 예제로 19년 4월 4주차에서 어벤져스 또는 스포가 포함된 트윗을 수집해 볼 것이다. 어벤져스 엔드게임은 19년 4월 24일에 개봉해서 엄청난 인기를 끌었는데, 한동안 SNS에서 일명 스포">
<meta property="og:locale" content="en">
<meta property="og:image" content="https://user-images.githubusercontent.com/25416425/59194117-ebf30780-8bc2-11e9-91f1-ab6b84883cd6.png">
<meta property="og:image" content="https://user-images.githubusercontent.com/25416425/59187501-901f8300-8bb0-11e9-954d-ca8994b0c726.png">
<meta property="og:image" content="https://user-images.githubusercontent.com/25416425/59205137-2d90ac00-8bdd-11e9-9d3b-fdef803b7e6c.png">
<meta property="og:image" content="https://user-images.githubusercontent.com/25416425/59205869-bcea8f00-8bde-11e9-910e-a7e1ba347476.png">
<meta property="og:image" content="https://user-images.githubusercontent.com/25416425/59206240-7c3f4580-8bdf-11e9-93b4-8803db1e7084.png">
<meta property="og:updated_time" content="2021-11-21T11:21:07.615Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Data Crawling - 파이썬을 이용한 트위터 수집하기">
<meta name="twitter:description" content="어떤 사건에 대한 사람들의 즉각적인 관심과 반응, 그리고 영향력자들이 어떻게 일반 사용자에게 영향을 미치는지 분석하는 데는 트위터 만한 SNS가 없다. 본 포스트에서는 예제로 19년 4월 4주차에서 어벤져스 또는 스포가 포함된 트윗을 수집해 볼 것이다. 어벤져스 엔드게임은 19년 4월 24일에 개봉해서 엄청난 인기를 끌었는데, 한동안 SNS에서 일명 스포">
<meta name="twitter:image" content="https://user-images.githubusercontent.com/25416425/59194117-ebf30780-8bc2-11e9-91f1-ab6b84883cd6.png">



  <link rel="alternate" href="/atom.xml" title="JW's Blog" type="application/atom+xml">




  <link rel="canonical" href="https://jeongwookie.github.io/2019/06/10/datascience/datacrawling/4-twitter-data-crawling/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>Data Crawling - 파이썬을 이용한 트위터 수집하기 | JW's Blog</title>
  




  <script async src="//www.googletagmanager.com/gtag/js?id=UA-125636294-1"></script>
  <script>
    var host = window.location.hostname;
    if (host !== "localhost" || !true) {
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-125636294-1');
    }
  </script>









  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">JW's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
      
        <p class="site-subtitle">Make stuff people want</p>
      
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>Home</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-about">

    
    
    
      
    

    

    <a href="https://www.notion.so/jeongwookie93/Jeong-Wook-Kim-03e882670c1949a99d8b408d9785468f" rel="external nofollow noopener noreferrer" target="_blank"><i class="menu-item-icon fa fa-fw fa-user"></i> <br>About</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>Tags</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
    
      
    

    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>Categories</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>Archives</a>

  </li>

      
      
    </ul>
  

  

  
</nav>



  



</div>
    </header>

    
  
  
  
  

  

  <a href="https://github.com/jeongwookie" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="external nofollow noopener noreferrer" target="_blank"><svg width="80" height="80" viewbox="0 0 250 250" style="fill: #222; color: #fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"/><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"/><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"/></svg></a>



    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://jeongwookie.github.io/2019/06/10/datascience/datacrawling/4-twitter-data-crawling/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jeongwook, Kim">
      <meta itemprop="description" content="Love code, travel, and game">
      <meta itemprop="image" content="https://user-images.githubusercontent.com/25416425/59519549-10245080-8f03-11e9-9a48-21e99af119f3.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JW's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Data Crawling - 파이썬을 이용한 트위터 수집하기

              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-06-10 18:24:31" itemprop="dateCreated datePublished" datetime="2019-06-10T18:24:31+09:00">2019-06-10</time>
            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Ⅰ-Data-Science/" itemprop="url" rel="index"><span itemprop="name">Ⅰ. Data Science</span></a></span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Ⅰ-Data-Science/데이터-크롤링/" itemprop="url" rel="index"><span itemprop="name">데이터 크롤링</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">Comments: </span>
                <a href="/2019/06/10/datascience/datacrawling/4-twitter-data-crawling/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/06/10/datascience/datacrawling/4-twitter-data-crawling/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>어떤 사건에 대한 사람들의 즉각적인 관심과 반응, 그리고 영향력자들이 어떻게 일반 사용자에게 영향을 미치는지 분석하는 데는 트위터 만한 SNS가 없다.</p>
<p>본 포스트에서는 예제로 19년 4월 4주차에서 <u>어벤져스</u> 또는 <u>스포</u>가 포함된 트윗을 수집해 볼 것이다.</p>
<p>어벤져스 엔드게임은 19년 4월 24일에 개봉해서 엄청난 인기를 끌었는데, 한동안 SNS에서 일명 스포 (스포일러)를 한다고 절대 아무거나 클릭하지 말라고 소동이 있었던 것으로 기억한다.</p>
<p>개봉일 전후로 트윗 수가 차이가 나고, <u>스포</u>와 같이 작성된 트윗이 많을 것으로 기대된다. </p>
<p><img src="https://user-images.githubusercontent.com/25416425/59194117-ebf30780-8bc2-11e9-91f1-ab6b84883cd6.png" width="400"></p>
<a id="more"></a>
<h2 id="수집-도구-선택"><a href="#수집-도구-선택" class="headerlink" title="수집 도구 선택"></a>수집 도구 선택</h2><p>트위터에서는 공식적으로 데이터 수집을 지원하는 API를 제공하고 있는데, 이름은 <strong>Tweepy</strong>. 최근 자료들을 얻는 데 있어서는 간단하고 빠르다.</p>
<p>그러나, 이 방법에는 치명적인 단점이 존재하는데.. 바로 현재 시간부터 7일 이전까지의 데이터만 수집이 가능하다는 점이다.</p>
<p>그 이전의 데이터를 수집하고 싶다면, Premium-Api를 구매해야 한다.. <a href="https://developer.twitter.com/en/premium-apis" rel="external nofollow noopener noreferrer" target="_blank">트위터 개발자 홈페이지</a>에 접속하면 아래와 같은 가격 플랜을 안내하고 있다.</p>
<p><em>Pricing for the elevated tiers of the Search Tweets: 30-day endpoint start at <strong>$149/month</strong> for 500 requests, while pricing for the Search Tweets: Full-archive endpoint starts at <strong>$99/month</strong> for 100 requests.</em>   </p>
<p>상당한 비용이 발생함을 알 수 있다. 그럼 다른 방법은 없을까?</p>
<p>직접 크롤러를 만들수도 있지만 그건 최후의 (?) 수단이고, 누군가 만들어 놓은 도구가 있다면 쓰는 것이 인지상정! 다행히 오래된 트윗을 수집할 수 있는 <a href="https://github.com/Mottl/GetOldTweets3" rel="external nofollow noopener noreferrer" target="_blank"><strong>GetOldTweet3</strong></a> 이라는 패키지가 있다.</p>
<p><img src="https://user-images.githubusercontent.com/25416425/59187501-901f8300-8bb0-11e9-954d-ca8994b0c726.png" width="700"></p>
<p>이 패키지를 사용해서 수집할 수 있는 변수들을 확인해 보니, 내가 원하는 것은 대부분 수집이 가능했다.</p>
<ul>
<li>업로드 유저 아이디 (username)</li>
<li>트윗 링크 (permalink)</li>
<li>트윗 내용 (text)</li>
<li>업로드 시간 (date)</li>
<li>리트윗 수 (retweets)</li>
<li>관심글 수 (favorites)</li>
</ul>
<p>또한, 다양한 기준으로 데이터 수집 범위를 설정할 수 있었다.</p>
<ul>
<li>특정 유저 아이디로 트윗 검색 (setUsername)</li>
<li>기간 안의 트윗 검색 (setSince / setUntil)</li>
<li>특정 검색어가 포함된 트윗 검색 (setQuerySearch)</li>
<li>기준 위치를 설정하고 근처에서 생성된 트윗 검색 (setNear / setWithin)</li>
<li>출력할 최대 트윗 수 지정 (setMaxTweets)</li>
</ul>
<p>좀 더 자세한 옵션 및 사용 방법은 <a href="https://github.com/Mottl/GetOldTweets3" rel="external nofollow noopener noreferrer" target="_blank">GetOldTweet3 github</a> 을 참고하자.</p>
<h2 id="패키지-준비"><a href="#패키지-준비" class="headerlink" title="패키지 준비"></a>패키지 준비</h2><p>본격적으로 크롤링에 앞서, 먼저 <strong>GetOldTweet3</strong> 패키지를 설치한다. 본 포스트에서는 python 3.7, ubuntu 18.04 의 개발 환경을 기본으로 한다. Jupyter Notebook으로 코드를 작성하였다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># GetOldTweet3 사용 준비</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="keyword">import</span> GetOldTweets3 <span class="keyword">as</span> got</span><br><span class="line"><span class="keyword">except</span>:</span><br><span class="line">    !pip install GetOldTweets3</span><br><span class="line">    <span class="keyword">import</span> GetOldTweets3 <span class="keyword">as</span> got</span><br></pre></td></tr></table></figure>
<p>또한, 추가적인 데이터 수집을 위해서 이전 포스트에서도 사용하였던 <strong>Beautifulsoup4</strong> 가 설치되어 있는지 확인한다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># BeautifulSoup4 사용 준비</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"><span class="keyword">except</span>:</span><br><span class="line">    !pip install bs4</span><br><span class="line">    <span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br></pre></td></tr></table></figure>
<h2 id="수집-기간-정의하기"><a href="#수집-기간-정의하기" class="headerlink" title="수집 기간 정의하기"></a>수집 기간 정의하기</h2><p>본격적으로 크롤러를 만들어 보자. 먼저 <code>datetime</code>을 사용하여 원하는 수집 기간을 정의한다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 가져올 범위를 정의</span></span><br><span class="line"><span class="comment"># 예제 : 2019-04-21 ~ 2019-04-24</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> datetime</span><br><span class="line"></span><br><span class="line">days_range = []</span><br><span class="line"></span><br><span class="line">start = datetime.datetime.strptime(<span class="string">"2019-04-21"</span>, <span class="string">"%Y-%m-%d"</span>)</span><br><span class="line">end = datetime.datetime.strptime(<span class="string">"2019-04-25"</span>, <span class="string">"%Y-%m-%d"</span>)</span><br><span class="line">date_generated = [start + datetime.timedelta(days=x) <span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">0</span>, (end-start).days)]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> date <span class="keyword">in</span> date_generated:</span><br><span class="line">    days_range.append(date.strftime(<span class="string">"%Y-%m-%d"</span>))</span><br><span class="line"></span><br><span class="line">print(<span class="string">"=== 설정된 트윗 수집 기간은 &#123;&#125; 에서 &#123;&#125; 까지 입니다 ==="</span>.format(days_range[<span class="number">0</span>], days_range[<span class="number">-1</span>]))</span><br><span class="line">print(<span class="string">"=== 총 &#123;&#125;일 간의 데이터 수집 ==="</span>.format(len(days_range)))</span><br><span class="line"></span><br><span class="line">&gt; === 설정된 트윗 수집 기간은 <span class="number">2019</span><span class="number">-04</span><span class="number">-21</span> 에서 <span class="number">2019</span><span class="number">-04</span><span class="number">-24</span> 까지 입니다 ===</span><br><span class="line">&gt; === 총 <span class="number">4</span>일 간의 데이터 수집 ===</span><br></pre></td></tr></table></figure>
<p><code>days_range</code> 라는 이름의 리스트에 날짜를 %Y-%m-%d 형태로 저장해 놓았다.</p>
<h2 id="트윗-수집하기"><a href="#트윗-수집하기" class="headerlink" title="트윗 수집하기"></a>트윗 수집하기</h2><p>이제 본격적으로 트위터에서 데이터를 크롤링할 차례이다.</p>
<p><strong>GetOldTweet3</strong>는 <code>tweetCriteria</code>로 수집 기준을 정의할 수 있다.</p>
<p>앞에서 설정한 수집 기간에서 <u>어벤져스</u> 또는 <u>스포</u> 가 포함된 트윗을 모두 수집해 보자.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 특정 검색어가 포함된 트윗 검색하기 (quary search)</span></span><br><span class="line"><span class="comment"># 검색어 : 어벤져스, 스포</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="comment"># 수집 기간 맞추기</span></span><br><span class="line">start_date = days_range[<span class="number">0</span>]</span><br><span class="line">end_date = (datetime.datetime.strptime(days_range[<span class="number">-1</span>], <span class="string">"%Y-%m-%d"</span>) </span><br><span class="line">            + datetime.timedelta(days=<span class="number">1</span>)).strftime(<span class="string">"%Y-%m-%d"</span>) <span class="comment"># setUntil이 끝을 포함하지 않으므로, day + 1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 트윗 수집 기준 정의</span></span><br><span class="line">tweetCriteria = got.manager.TweetCriteria().setQuerySearch(<span class="string">'어벤져스 OR 스포'</span>)\</span><br><span class="line">                                           .setSince(start_date)\</span><br><span class="line">                                           .setUntil(end_date)\</span><br><span class="line">                                           .setMaxTweets(<span class="number">-1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 수집 with GetOldTweet3</span></span><br><span class="line">print(<span class="string">"Collecting data start.. from &#123;&#125; to &#123;&#125;"</span>.format(days_range[<span class="number">0</span>], days_range[<span class="number">-1</span>]))</span><br><span class="line">start_time = time.time()</span><br><span class="line"></span><br><span class="line">tweet = got.manager.TweetManager.getTweets(tweetCriteria)</span><br><span class="line"></span><br><span class="line">print(<span class="string">"Collecting data end.. &#123;0:0.2f&#125; Minutes"</span>.format((time.time() - start_time)/<span class="number">60</span>))</span><br><span class="line">print(<span class="string">"=== Total num of tweets is &#123;&#125; ==="</span>.format(len(tweet)))</span><br><span class="line"></span><br><span class="line">&gt; Collecting data start.. <span class="keyword">from</span> <span class="number">2019</span><span class="number">-04</span><span class="number">-21</span> to <span class="number">2019</span><span class="number">-04</span><span class="number">-24</span></span><br><span class="line">&gt; Collecting data end.. <span class="number">41.39</span> Minutes</span><br><span class="line">&gt; === Total num of tweets <span class="keyword">is</span> <span class="number">22964</span> ===</span><br></pre></td></tr></table></figure>
<p>수집하는 데 시간이 조금 걸린다. 참고로 너무 많은 트윗을 한번에 수집하려다 보면, 트위터 측에서 나가라고 쫒아낸다.. (Error 104)</p>
<p><em>An error occured during an HTTP request: [Errno 104] Connection reset by peer</em></p>
<p>Connection 관련한 에러가 뜨면, 지정한 날짜 범위에 기준을 만족하는 트윗의 수가 너무 많은 것이니 범위를 좁혀서 다시 시도해 보자.</p>
<p>수집하는 데 얼마나 시간이 걸렸는지 알아보기 위해 <code>time</code> 을 임포트 해서 코드 몇줄을 추가했다. 참고로 나는 이 과정에서 1시간 넘게 소요된 적도 있었으니 참을성있게 기다려보자.</p>
<p>위 코드는 41분 가량 소요되었다. 몇개의 트윗이 수집되었는지 출력되면, 아래 단계로 넘어가자.</p>
<h2 id="변수-저장하기"><a href="#변수-저장하기" class="headerlink" title="변수 저장하기"></a>변수 저장하기</h2><p>이제 원하는 정보만을 저장해 보자. <strong>GetOldTweet3</strong> 에서 제공하는 기본 변수 중 유저 아이디, 트윗 링크, 트윗 내용, 날짜, 리트윗 수, 관심글 수를 수집한다.</p>
<p>또한, 이 패키지에서 제공하지 않는 변수 중 각 유저의 가입일, 전체 트윗 수, 팔로잉 수, 팔로워 수도 같이 수집한다. 이때, 앞서 준비한 <strong>BeautifulSoup4</strong> 를 사용한다. 자세한 사용 방법은 이전 포스트들을 참고하자.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 원하는 변수 골라서 저장하기</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> random <span class="keyword">import</span> uniform</span><br><span class="line"><span class="keyword">from</span> tqdm <span class="keyword">import</span> tqdm_notebook</span><br><span class="line"></span><br><span class="line"><span class="comment"># initialize</span></span><br><span class="line">tweet_list = []</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> index <span class="keyword">in</span> tqdm_notebook(tweet):</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 메타데이터 목록 </span></span><br><span class="line">    username = index.username</span><br><span class="line">    link = index.permalink </span><br><span class="line">    content = index.text</span><br><span class="line">    tweet_date = index.date.strftime(<span class="string">"%Y-%m-%d"</span>)</span><br><span class="line">    tweet_time = index.date.strftime(<span class="string">"%H:%M:%S"</span>)</span><br><span class="line">    retweets = index.retweets</span><br><span class="line">    favorites = index.favorites</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># === 유저 정보 수집 시작 ===</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        personal_link = <span class="string">'https://twitter.com/'</span> + username</span><br><span class="line">        bs_obj = get_bs_obj(personal_link)</span><br><span class="line">        uls = bs_obj.find(<span class="string">"ul"</span>, &#123;<span class="string">"class"</span>: <span class="string">"ProfileNav-list"</span>&#125;).find_all(<span class="string">"li"</span>)</span><br><span class="line">        div = bs_obj.find(<span class="string">"div"</span>, &#123;<span class="string">"class"</span>: <span class="string">"ProfileHeaderCard-joinDate"</span>&#125;).find_all(<span class="string">"span"</span>)[<span class="number">1</span>][<span class="string">"title"</span>]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment"># 가입일, 전체 트윗 수, 팔로잉 수, 팔로워 수</span></span><br><span class="line">        joined_date = div.split(<span class="string">'-'</span>)[<span class="number">1</span>].strip()</span><br><span class="line">        num_tweets = uls[<span class="number">0</span>].find(<span class="string">"span"</span>, &#123;<span class="string">"class"</span>: <span class="string">"ProfileNav-value"</span>&#125;).text.strip()</span><br><span class="line">        num_following = uls[<span class="number">1</span>].find(<span class="string">"span"</span>, &#123;<span class="string">"class"</span>: <span class="string">"ProfileNav-value"</span>&#125;).text.strip()</span><br><span class="line">        num_follower = uls[<span class="number">2</span>].find(<span class="string">"span"</span>, &#123;<span class="string">"class"</span>: <span class="string">"ProfileNav-value"</span>&#125;).text.strip()</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">except</span> AttributeError:</span><br><span class="line">        print(<span class="string">"=== Attribute error occurs at &#123;&#125; ==="</span>.format(link))</span><br><span class="line">        print(<span class="string">"link : &#123;&#125;"</span>.format(personal_link))   </span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">     </span><br><span class="line">    <span class="comment"># 결과 합치기</span></span><br><span class="line">    info_list = [tweet_date, tweet_time, username, content, link, retweets, favorites, </span><br><span class="line">                 joined_date, num_tweets, num_following, num_follower]</span><br><span class="line">    tweet_list.append(info_list)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 휴식 </span></span><br><span class="line">    time.sleep(uniform(<span class="number">1</span>,<span class="number">2</span>))</span><br></pre></td></tr></table></figure>
<p><strong>(주의: 실행 시 약 24시간이 소요됩니다. 결과를 빨리 확인하려면 유저 정보 수집 부분을 전부 주석처리 해주세요.)</strong></p>
<p>유저의 가입일, 전체 트윗 수, 팔로잉 수, 팔로워 수 와 같은 변수는 <strong>GetOldTweet3</strong>으로 얻은 <code>username</code>으로 <code>personal_link</code>을 만들어 수집하였다.</p>
<p>중간에 <code>try-except</code> 구문을 사용하였는데, 이는 수집을 시도해 보니 몇몇 사용자의 팔로잉 수 혹은 팔로워 수가 공개되어 있지 않아 <code>AttributeError</code>을 발생시키고 있었다. 이런 에러를 발생시키는 계정은 보통 광고용 찌라시 계정이었는데, 이를 확인하기 위해 에러 발생시 그 link를 출력하도록 코드를 구성하였다.</p>
<p>또한, 공격적인 크롤링 방지를 위해 <code>random.uniform()</code>을 활용하여 아래에 1~2초 사이로 랜덤하게 for문을 쉬게 하는 코드를 추가했다.  </p>
<p>트윗 수집 결과는 <code>tweet_list</code>에 저장된다.</p>
<h2 id="파일-저장-후-확인"><a href="#파일-저장-후-확인" class="headerlink" title="파일 저장 후 확인"></a>파일 저장 후 확인</h2><p>이제 결과를 csv 파일로 저장하고, 저장된 파일을 불러와서 확인해 보자. <code>Pandas</code> 패키지를 사용할 것이다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 파일 저장하기</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">twitter_df = pd.DataFrame(tweet_list, </span><br><span class="line">                          columns = [<span class="string">"date"</span>, <span class="string">"time"</span>, <span class="string">"user_name"</span>, <span class="string">"text"</span>, <span class="string">"link"</span>, <span class="string">"retweet_counts"</span>, <span class="string">"favorite_counts"</span>,</span><br><span class="line">                                    <span class="string">"user_created"</span>, <span class="string">"user_tweets"</span>, <span class="string">"user_followings"</span>, <span class="string">"user_followers"</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># csv 파일 만들기</span></span><br><span class="line">twitter_df.to_csv(<span class="string">"sample_twitter_data_&#123;&#125;_to_&#123;&#125;.csv"</span>.format(days_range[<span class="number">0</span>], days_range[<span class="number">-1</span>]), index=<span class="literal">False</span>)</span><br><span class="line">print(<span class="string">"=== &#123;&#125; tweets are successfully saved ==="</span>.format(len(tweet_list)))</span><br><span class="line"></span><br><span class="line">&gt; === <span class="number">22964</span> tweets are successfully saved ===</span><br></pre></td></tr></table></figure>
<p>위 코드를 실행시키면, working directory 내에 sample_twitter_data_2019-04-21_to_2019-04-24.csv 파일이 생성되었음을 확인할 수 있다.</p>
<p>생성한 파일을 로드해서 내용을 확인해 보자.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 파일 확인하기</span></span><br><span class="line"></span><br><span class="line">df_tweet = pd.read_csv(<span class="string">'sample_twitter_data_&#123;&#125;_to_&#123;&#125;.csv'</span>.format(days_range[<span class="number">0</span>], days_range[<span class="number">-1</span>]))</span><br><span class="line">df_tweet.head(<span class="number">10</span>) <span class="comment"># 위에서 10개만 출력</span></span><br></pre></td></tr></table></figure>
<p><img src="https://user-images.githubusercontent.com/25416425/59205137-2d90ac00-8bdd-11e9-9d3b-fdef803b7e6c.png" width="700"></p>
<h2 id="데이터-통계-확인"><a href="#데이터-통계-확인" class="headerlink" title="데이터 통계 확인"></a>데이터 통계 확인</h2><p>수집한 데이터라 어떤 특징을 보이고 있는지 간단하게 확인해 보자. </p>
<p><u>어벤져스</u> 또는 <u>스포</u>가 포함된 트윗을 수집하였는데, 각각의 빈도는 어느 정도일까?</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 키워드 빈도 분석하기</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_keywords</span><span class="params">(dataframe)</span>:</span></span><br><span class="line">    keywords = []</span><br><span class="line">    text = dataframe[<span class="string">"text"</span>].lower()</span><br><span class="line">    <span class="keyword">if</span> <span class="string">"어벤져스"</span> <span class="keyword">in</span> text:</span><br><span class="line">        keywords.append(<span class="string">"어벤져스"</span>)</span><br><span class="line">    <span class="keyword">if</span> <span class="string">"스포"</span> <span class="keyword">in</span> text:</span><br><span class="line">        keywords.append(<span class="string">"스포"</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="string">","</span>.join(keywords)</span><br><span class="line"></span><br><span class="line">df_tweet[<span class="string">"keyword"</span>] = df_tweet.apply(get_keywords,axis=<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># barplot 그리기</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">counts = df_tweet[<span class="string">"keyword"</span>].value_counts()</span><br><span class="line">plt.bar(range(len(counts)), counts)</span><br><span class="line">plt.title(<span class="string">"Tweets mentioning keywords"</span>)</span><br><span class="line">plt.ylabel(<span class="string">"# of tweets"</span>)</span><br><span class="line">plt.show()</span><br><span class="line">print(counts)</span><br></pre></td></tr></table></figure>
<p><img src="https://user-images.githubusercontent.com/25416425/59205869-bcea8f00-8bde-11e9-910e-a7e1ba347476.png" width="450"></p>
<p>barplot을 그릴 때에는 파이썬의 visualization package 중 가장 유명한 <code>matplotlib</code>을 사용했다.</p>
<p><u>스포</u> 가 단일로 포함된 트윗이 14,782개로 가장 많았고, 그 뒤로 <u>어벤져스</u> 단일이 6,902개 , 그리고 <u>어벤져스</u> 와 <u>스포</u> 모두 포함된 트윗이 1,248개 로 파악된다.</p>
<p>이번에는 어벤져스 개봉일이 다가오면서 변화하는 트윗의 빈도를 출력해 보자.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 날짜별 빈도 분석하기</span></span><br><span class="line"></span><br><span class="line">counts = df_tweet[<span class="string">"date"</span>].value_counts().sort_index()</span><br><span class="line"></span><br><span class="line">plt.title(<span class="string">"Tweets mentioning keywords in time series"</span>)</span><br><span class="line">plt.ylabel(<span class="string">"# of tweets"</span>)</span><br><span class="line">counts.plot(kind = <span class="string">'bar'</span>)</span><br><span class="line">print(counts)</span><br></pre></td></tr></table></figure>
<p><img src="https://user-images.githubusercontent.com/25416425/59206240-7c3f4580-8bdf-11e9-93b4-8803db1e7084.png" width="450"></p>
<p>역시나 예상했던 대로, 영화 개봉일인 4월 24일이 되자 트윗이 14,989개로 폭발적으로 증가했음을 확인할 수 있다.</p>
<p>여기까지 간단하게 데이터의 shape 정도를 확인해 보았다. 이외에도 다양한 방법으로 데이터를 분석할 수 있으니 그건 각자 해보는 걸로..</p>
<p><em>20.02.25 추가</em><br><a href="https://jeongwookie.github.io/2020/02/25/200225-twitter-data-crawling-without-package/">트위터 크롤링, 패키지 없이 해보자!</a> 라는 주제로 새로 블로그에 글을 업로드 하였으니 필요하신 분은 참고 바랍니다.</p>
<p><em>20.04.23 추가</em><br><a href="https://jeongwookie.github.io/2020/04/23/200423-analyze-tweet-series-1-collect/">트위터 파헤치기 시리즈 첫번째 - 수집하기</a> 라는 트위터 크롤링 관련 포스트를 새로 작성하였습니다. 많은 분들이 댓글로 질문 주셨던 내용들이 여기에 자연스럽게 담겨 있습니다. 일례로, 해당 날짜의 전수 트윗을 모으는 것이 아닌 popular한 100개의 트윗만을 모으는 것도 가능합니다. 자세한 내용은 포스트를 읽어 보시고, 궁금한 점 댓글 달아주세요!</p>

      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Python/" rel="tag"># Python</a>
          
            <a href="/tags/Datamining/" rel="tag"># Datamining</a>
          
            <a href="/tags/Twitter/" rel="tag"># Twitter</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/05/31/datascience/datacrawling/3-naver-main-news-crawling/" rel="next" title="Data Crawling - 네이버 뉴스 데이터 수집하기">
                <i class="fa fa-chevron-left"></i> Data Crawling - 네이버 뉴스 데이터 수집하기
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/06/28/others/diary/9-spring-semester-finish/" rel="prev" title="19년 카이스트 봄학기 후기">
                19년 카이스트 봄학기 후기 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>


  </div>


          </div>
          

  
    <div class="comments" id="comments">
      <div id="disqus_thread">
        <noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript>
      </div>
    </div>

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="https://user-images.githubusercontent.com/25416425/59519549-10245080-8f03-11e9-9a48-21e99af119f3.jpg" alt="Jeongwook, Kim">
            
              <p class="site-author-name" itemprop="name">Jeongwook, Kim</p>
              <div class="site-description motion-element" itemprop="description">Love code, travel, and game</div>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">61</span>
                    <span class="site-state-item-name">posts</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  
                    
                      <a href="/categories/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">22</span>
                    <span class="site-state-item-name">categories</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                      <a href="/tags/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">38</span>
                    <span class="site-state-item-name">tags</span>
                  </a>
                </div>
              
            </nav>
          

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  
                  
                  
                    
                  
                  <a href="https://github.com/jeongwookie" title="Github &rarr; https://github.com/jeongwookie" rel="external nofollow noopener noreferrer" target="_blank"><i class="fa fa-fw fa-github"></i></a>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                  
                    
                  
                  <a href="mailto:captainfox@kaist.ac.kr" title="E-Mail &rarr; mailto:captainfox@kaist.ac.kr" rel="external nofollow noopener noreferrer" target="_blank"><i class="fa fa-fw fa-envelope"></i></a>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                  
                    
                  
                  <a href="https://www.linkedin.com/in/jeongwook-kim/" title="linkedin &rarr; https://www.linkedin.com/in/jeongwook-kim/" rel="external nofollow noopener noreferrer" target="_blank"><i class="fa fa-fw fa-linkedin"></i></a>
                </span>
              
            </div>
          

          

          
          

          
            
          
          

        </div>
      </div>

      
      <!--noindex-->
        <div class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
            
            
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#수집-도구-선택"><span class="nav-number">1.</span> <span class="nav-text">수집 도구 선택</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#패키지-준비"><span class="nav-number">2.</span> <span class="nav-text">패키지 준비</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#수집-기간-정의하기"><span class="nav-number">3.</span> <span class="nav-text">수집 기간 정의하기</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#트윗-수집하기"><span class="nav-number">4.</span> <span class="nav-text">트윗 수집하기</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#변수-저장하기"><span class="nav-number">5.</span> <span class="nav-text">변수 저장하기</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#파일-저장-후-확인"><span class="nav-number">6.</span> <span class="nav-text">파일 저장 후 확인</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#데이터-통계-확인"><span class="nav-number">7.</span> <span class="nav-text">데이터 통계 확인</span></a></li></ol></div>
            

          </div>
        </div>
      <!--/noindex-->
      

      
        <div class="back-to-top">
          <i class="fa fa-arrow-up"></i>
          
            <span id="scrollpercent"><span>0</span>%</span>
          
        </div>
      
    </div>
    <div class="gooAd sidebar-inner" style"display: block;">
      <!-- Google AdSense start -->
      <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- jw google ad 1 -->
<ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-1156366976077024" data-ad-slot="2477415640" data-ad-format="auto" data-full-width-responsive="true"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
      <!-- Google AdSense end -->
    </div>
  </aside>
  


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2021</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Jeongwook, Kim</span>

  

  
</div>


  <div class="powered-by">Powered by <a href="https://hexo.io" class="theme-link" rel="external nofollow noopener noreferrer" target="_blank">Hexo</a> v3.8.0</div>








        








        
      </div>
    </footer>

    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/src/utils.js?v=7.0.1"></script>

  <script src="/js/src/motion.js?v=7.0.1"></script>



  
  


  <script src="/js/src/affix.js?v=7.0.1"></script>

  <script src="/js/src/schemes/pisces.js?v=7.0.1"></script>




  
  <script src="/js/src/scrollspy.js?v=7.0.1"></script>
<script src="/js/src/post-details.js?v=7.0.1"></script>



  


  <script src="/js/src/next-boot.js?v=7.0.1"></script>


  

  

  

  
  
  <script id="dsq-count-scr" src="https://jeongwookie.disqus.com/count.js" async></script>


<script>
  var disqus_config = function() {
    this.page.url = "https://jeongwookie.github.io/2019/06/10/datascience/datacrawling/4-twitter-data-crawling/";
    this.page.identifier = "2019/06/10/datascience/datacrawling/4-twitter-data-crawling/";
    this.page.title = 'Data Crawling - 파이썬을 이용한 트위터 수집하기';
    };
  function loadComments() {
    var d = document, s = d.createElement('script');
    s.src = 'https://jeongwookie.disqus.com/embed.js';
    s.setAttribute('data-timestamp', '' + +new Date());
    (d.head || d.body).appendChild(s);
  }
  
    loadComments();
  
</script>





  


  




  

  

  

  

  

  

  

  

  

  

  

  

  

  

</body>
</html>
